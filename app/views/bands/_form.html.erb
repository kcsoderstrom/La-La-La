<% editing = band.persisted? %>
<% action_url = editing ? band_url(band) : bands_url %>

<form action="<%= action_url %>" method="post">
  <input
     name="authenticity_token"
     type="hidden"
     value="<%= form_authenticity_token %>">
  <% if editing %>
    <input type="hidden" name="_method" value="put">
  <% end %>

  <% if band.errors.any? %>
    <h2><%= pluralize(band.errors.count, "error") %> prohibited this band from being saved:</h2>

    <ul>
    <% band.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  <% end %>

  <label for="name">Name</label>
  <input type="text" id="name" name="band[name]" value="<%= band.name %>">
  <br>

  <input type="submit" value="<%= editing ? "Edit" : "Create" %> band">
</form>

<a href="<%= action_url %>">Back to <%= editing ? band : "all bands" %></a>
